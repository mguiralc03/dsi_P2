<header>
    <div role="button" tabindex="0" id="logo-container" (keydown)="moveTo($event, 'home')" (click)="changePath('home')">
        <img id="header-logo" src="assets/images/logo.png" alt="myHealth logo">
    </div>
    <div id="not-logged">
        <button mat-raised-button id="iniciar-sesion" color="salmon" (click)="openInit()" >Iniciar sesión</button>
        <button mat-raised-button id="registro" color="salmon" (click)="openReg()">Registrarse</button>
    </div>
    <div id="logged">
        <h2>¡Hola de nuevo María del Carmen!</h2>
        <div>
            <button mat-raised-button id="carrito-compra" color="salmon" (keydown)="moveTo($event, 'carrito')" (click)="changePath('carrito')"><span class="material-icons-outlined">shopping_cart</span></button>
            <button mat-raised-button id="mi-cuenta" color="salmon" (keydown)="moveTo($event, 'cuenta')" (click)="changePath('cuenta')">Mi cuenta</button>
        </div>
    </div>
</header>
<div *ngIf="showBack" class="blurback"></div>

<div *ngIf="showLogin" id="login" class="pop-up">
    <div class="header-popup">
        <img src="assets/images/logo.png" alt="myHealth logo">
        <span tabIndex="0" class="material-icons-outlined" (keydown)="closeInitTab($event)" (click)="closeInit()">highlight_off</span>
    </div>
    <form>
        <h2>Inicia sesión</h2>
        <mat-form-field appearance="fill" id="login-email">
            <mat-label>Email</mat-label>
            <input id="emailLogin" matInput type="text" placeholder="pat@example.com" [formControl]="emailInit" required>
            <mat-error *ngIf="emailInit.invalid">{{getErrorMessageEmailInit()}}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Introduce tu contraseña</mat-label>
            <input id="contraseñaLogin" matInput [type]="hide ? 'password' : 'text'">
            <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
        </mat-form-field>
        <p id="errorInit">El email o la contraseña no son correctos</p>
        <button mat-raised-button color="salmon" (click)="checkInit($event)" type="submit">Iniciar sesión</button>
        <a (click)="openReg()">¿No tienes cuenta? Regístrate</a>
    </form> 
</div>
<div *ngIf="showReg" id="reg" class="pop-up">
    <div class="header-popup">
        <img src="assets/images/logo.png" alt="myHealth logo">
        <span tabIndex="0" class="material-icons-outlined" (click)="closeReg()" (keydown)="closeRegTab($event)">highlight_off</span>
    </div>
    <form>
        <h2>Regístrate</h2>
        <div class="filaReg">
            <mat-form-field appearance="fill">
                <mat-label>Nombre</mat-label>
                <input matInput>
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Apellidos</mat-label>
                <input matInput>
            </mat-form-field>
        </div>
        <div class="filaReg">
            <mat-form-field appearance="fill" id="login-email">
                <mat-label>Email</mat-label>
                <input matInput type="text" placeholder="pat@example.com" [formControl]="emailReg" required>
                <mat-error *ngIf="emailReg.invalid">{{getErrorMessageEmailReg()}}</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Introduce tu contraseña</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'">
                <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
        </div>
        <button mat-raised-button color="salmon" (keydown)="closeRegTab($event)" (click)="closeReg()" type="submit">Registrarme</button>
        <a (click)="openInit()">Ya tengo cuenta</a>
    </form>
</div>
