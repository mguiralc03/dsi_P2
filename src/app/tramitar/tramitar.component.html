<div id="tramitar-container">
    <nav>
        <div class="links">
            <h2 role="link" tabindex="0" routerLink="/favoritos">Favoritos</h2>
            <h2 role="link" tabindex="0" routerLink="/recordatorios">Mis recordatorios</h2>
            <h2 role="link" tabindex="0" routerLink="/mis-pedidos">Mis pedidos</h2>
            <h2 role="link" tabindex="0" (click)="cerrarSesion()">Cerrar Sesion</h2>
        </div>
        <div class="slider">
            <mat-slide-toggle color="voz" id="descripcionVoz" [checked]=desc (change)="changeDesc()">Descripción por voz</mat-slide-toggle>
        </div>
    </nav>

    <div class="contenido">
        <div class="carrito">
            <h2>Tu carrito de la compra</h2>
            <div class="med-container" *ngFor="let med of medicamentos">
                <div class="med-bought" *ngIf="med.bought">
                    <div class="info-bought">
                        <div class="med-bought-imgCont">
                            <img [src]=med.img_source [alt]=med.title>
                        </div>
                        <div class="med-bought-title">
                            <h2>{{med.title}} - {{med.price}}</h2>
                            <p>{{med.desc_short}}</p>
                        </div>
                        <div class="med-compra">
                            <div class="unidades">
                                <p>Unidades: </p>
                                <div class="med-unidades">
                                    <button id="menos" (click)="restarUnidad(med.id)">-</button>
                                    <p>{{med.units}}</p>
                                    <button id="mas" (click)="sumarUnidad(med.id)">+</button>
                                </div>
                            </div>
                            <div class="total">
                                <p>Total: </p>
                                <div class="div-precio-total">
                                    <p>{{med.total | currency: 'EUR':'€':'1.2-2':'fr'}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <mat-divider></mat-divider>
                </div>
            </div>
            <div class = "botones-compra">
                <button mat-raised-button color="salmon" routerLink="/">Seguir compra</button>
                <button mat-raised-button color="salmon" (click)="FinalizarCompra()">Finalizar compra</button>
            </div>
        </div>
        <mat-divider id="vertical-separator" vertical style="height: 50vh"></mat-divider>
        <div class="data">
            <div class="direccion-envio">
                <h2>Dirección de envío:</h2>
                <div class="labels" id="direccion">
                    <p>Avenida Peter Parker, <br>
                        nº5&emsp;esc.3&emsp;6ºC</p>
                </div>
                <div class="labels">
                    <p>Madrid</p>
                </div>
                <div class="labels">
                    <p>Madrid, 28035</p>
                </div>
                <div class="editar-button">
                    <button  mat-raised-button color="salmon" (click)="editarEntrega()">Editar</button>
                </div>
            </div>
            <div class="metodo-pago">
                <h2>Seleccionar método de pago:</h2>
                <div class="datos-pago">
                    <div class="card">
                        <span class="material-symbols-outlined">credit_card</span>
                    </div>
                    <div class="labels">
                        <p>Número de tarjeta</p>
                    </div>
                    <div id="cvv">
                        <p>CVV</p>
                    </div>
                </div>
                <div class="editar-button">
                    <button  mat-raised-button color="salmon" (click)="editarTarjeta()">Editar</button>
                    <p>Si no añade una tarjeta se le cobrará una <br> 
                        vez entregado el paquete. Esto podrá<br>
                        ser en efectivo o con tarjeta.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="pop-up" id="finalizarCompra">
    <div class="header-popup">
        <img src="../../assets/images/logo.png" alt="myHealth logo">
        <span tabIndex="0" class="material-icons-outlined" (click)="closeFC()">highlight_off</span>
    </div>
</div>

<div class="pop-up" id="editar-direccion">
    <div class="header-popup">
        <img src="../../assets/images/logo.png" alt="myHealth logo">
        <span tabIndex="0" class="material-icons-outlined" (click)="closeEdDir()">highlight_off</span>
    </div>
</div>

<div class="pop-up" id="editar-tarjeta">
    <div class="header-popup">
        <img src="../../assets/images/logo.png" alt="myHealth logo">
        <span tabIndex="0" class="material-icons-outlined" (click)="closeEdTar()">highlight_off</span>
    </div>
</div>